# aigis-formation-image-analyzer

千年戦争アイギスの編成画面の画像を解析してデータ化したかった


## 困難だった点まとめ

現状諦め気味なのでセーブしとく。

- キャラクターを認識するためのテンプレート画像が大量に(おそらくは1500枚程度)必要で、かつそのデータは手元で作れないためWikiなどに頼るほかなく、結果として取得する画像サイズが定まらない。
  - 画像で画像毎の倍率を認識するには、枠部分をそこそこ厳密にマッチしないといけない。枠部分はレアリティで色が違うのと、矩形だと背景が含まれてしまうから事前に加工するなり別の画像解析ロジックでマッチさせるなり、ふた工夫くらい必要になる。
- ユーザーが投稿する編成画面画像についても、サイズやクリッピングの状態が不定である。
  - こちらも画像の倍率を解析するには、編成枠などをマッチングする必要があり、キャラクター画像と同様の問題がある。
- 被検索画像とテンプレート画像両方の画像の品質を揃えるために両方に事前に解析や加工が必要になるため、精度・速度を担保するために大きな工夫が必要。

もしかすると、テンプレートマッチング以外の画像解析手法なら解決が用意になるかもしれないが、付け焼き刃の知識では理解できなかった。

作業中のメモは https://github.com/kjirou/aigis-formation-image-analyzer/pull/2
